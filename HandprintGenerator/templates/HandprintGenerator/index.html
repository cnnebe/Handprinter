{% extends "base.html" %}

{% block content %}

<div class="container">
    <div class="jumbotron">
            <h1> Action Ideas </h1>
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-info" data-toggle="modal" data-target="#myModal">
                What is this? 
            </button>
    </div>


<!-- Modal -->
<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
        <h4 class="modal-title" id="myModalLabel">A Global Collection of Eco-Friendly Ideas</h4>
      </div>
      <div class="modal-body">
        <p> This page displays all action ideas, submitted by people from all over the world. <b>Clicking on an idea's name</b> will allow you view specific details about that idea, such as its description, and allow you to comment on the idea. <br><br> You can also <b>filter</b> ideas by their category to match contexts' you're interested in and filter by popularity, to see what everyone else is interested in. <br><br> Ideas carry <b>tags</b>, and you can enter a tag to search for to find ideas tailored to your interests. <br><br> Finally, registered users can <b>vote</b> on an action idea, increasing it's chances of being modeled by researchers to determine it's environmental impact. Show your support or interest in an idea by voting or it! <p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" data-dismiss="modal">Got it!</button>
      </div>
    </div>
  </div>
</div>
<br>

<!-- Search Bar -->
<form action="/searchresults" method="get">
    {% csrf_token %}
    <label for="search">Search for Ideas by a Tag: </label>
    <input id="search" type="text" name="searchTerm" value="{{ searchTerm }}">
    <input type="submit" value="Search" class="btn btn-success">
</form>
<br><br>

<div class="endless_page_template">
<!-- Tab Headers -->
<div class="bs-example bs-example-tabs" data-example-id="togglable-tabs"> 
    <ul id="myTabs" class="nav nav-tabs" role="tablist" > 
        <li role="presentation" class="active"><a href="#main" id="main-tab" role="tab" data-toggle="tab" aria-controls="main" aria-expanded="false">Most Recent</a></li> 
        <li role="presentation"><a href="#popular" role="tab" id="popular-tab" data-toggle="tab" aria-controls="popular" >Most Popular</a></li> 
        <li role="presentation" class="dropdown"> <a aria-expanded="false" href="#" id="myTabDrop1" class="dropdown-toggle" data-toggle="dropdown" aria-controls="myTabDrop1-contents">Filter By

        <span class="caret"></span></a> 
            <!-- Dropdown Options -->
            <ul class="dropdown-menu" aria-labelledby="myTabDrop1" id="myTabDrop1-contents">
                <li class=""><a aria-expanded="false" href="#home" role="tab" id="home-tab" data-toggle="tab" aria-controls="home">Home</a></li> 
                <li class= ""><a aria-expanded="true" href="#work" role="tab" id="work-tab" data-toggle="tab" aria-controls="work">Work</a></li> 
                <li class= ""><a aria-expanded="true" href="#community" role="tab" id="community-tab" data-toggle="tab" aria-controls="community">Community</a></li> 
                <li class= ""><a aria-expanded="true" href="#mobility" role="tab" id="mobility-tab" data-toggle="tab" aria-controls="mobility">Mobility</a></li> 
                <li class= ""><a aria-expanded="true" href="#food" role="tab" id="food-tab" data-toggle="tab" aria-controls="food">Food</a></li> 
                <li class= ""><a aria-expanded="true" href="#clothing" role="tab" id="clothing-tab" data-toggle="tab" aria-controls="clothing">Clothing</a></li> 
                <li class= ""><a aria-expanded="true" href="#other" role="tab" id="other-tab" data-toggle="tab" aria-controls="other">Other</a></li> 
            </ul> 
        </li> 
    </ul> 

    <!-- Tab Content. Renders template using idea_table.html based on contexts in views.py for index function-->
    <!-- One variable for active, one for inactive, and page allows for independent pagination.-->
    <div id="myTabContent" class="tab-content"> 
        <div role="tabpanel" class="tab-pane fade active in" id="main" aria-labelledby="main-tab"> 
            {% include "HandprintGenerator/idea_table.html" with idea_list_active=action_ideas_active idea_list_inactive=action_ideas_inactive page="main" %}
        </div> 

        <div role="tabpanel" class="tab-pane fade" id="popular" aria-labelledby="popular-tab"> 
            {% include "HandprintGenerator/idea_table.html" with idea_list_active=action_ideas_vote_active idea_list_inactive=action_ideas_vote_inactive page="popular" %}
        </div> 

        <div role="tabpanel" class="tab-pane fade" id="home" aria-labelledby="home-tab"> 
            <h4> Action Ideas Related to Home </h4>
            <br>
            {% include "HandprintGenerator/idea_table.html" with idea_list_active=action_ideas_home_active idea_list_inactive=action_ideas_home_inactive page="home" %}
        </div>

        <div role="tabpanel" class="tab-pane fade" id="work" aria-labelledby="work-tab"> 
            <h4> Action Ideas Related to Work </h4>
            <br>
            {% include "HandprintGenerator/idea_table.html" with idea_list_active=action_ideas_work_active idea_list_inactive=action_ideas_work_inactive page="work" %}
        </div> 

        <div role="tabpanel" class="tab-pane fade" id="community" aria-labelledby="community-tab">  
            <h4> Action Ideas Related to Community </h4>
            <br>
            {% include "HandprintGenerator/idea_table.html" with idea_list_active=action_ideas_community_active idea_list_inactive=action_ideas_community_inactive page="community" %}
        </div>

        <div role="tabpanel" class="tab-pane fade" id="mobility" aria-labelledby="mobility-tab"> 
            <h4> Action Ideas Related to Mobility </h4>
            <br>
            {% include "HandprintGenerator/idea_table.html" with idea_list_active=action_ideas_mobility_active idea_list_inactive=action_ideas_mobility_inactive page="mobility" %}
        </div> 

        <div role="tabpanel" class="tab-pane fade" id="food" aria-labelledby="food-tab">
            <h4> Action Ideas Related to Food </h4>
            <br>
            {% include "HandprintGenerator/idea_table.html" with idea_list_active=action_ideas_food_active idea_list_inactive=action_ideas_food_inactive page="food" %}
        </div>

        <div role="tabpanel" class="tab-pane fade" id="clothing" aria-labelledby="clothing-tab"> 
            <h4> Action Ideas Related to Clothing </h4>
            <br>
            {% include "HandprintGenerator/idea_table.html" with idea_list_active=action_ideas_clothing_active idea_list_inactive=action_ideas_clothing_inactive page="clothing" %}
        </div> 

        <div role="tabpanel" class="tab-pane fade" id="other" aria-labelledby="other-tab"> 
            <h4> Action Ideas Related to "Other" </h4>
            <br>
            {% include "HandprintGenerator/idea_table.html" with idea_list_active=action_ideas_other_active idea_list_inactive=action_ideas_other_inactive page="other" %}
        </div> 
    </div> 
</div>
</div>
</div>

<!-- Modal Javascript -->
<script type="text/javascript">
    $('#myModal').on('shown.bs.modal', function () {
        $('#myInput').focus()
        })
</script>

{% endblock %}

